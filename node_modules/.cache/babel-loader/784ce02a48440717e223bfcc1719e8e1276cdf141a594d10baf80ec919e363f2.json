{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport useLanguage from \"./useLanguage\";\nimport usePoint from \"./usePoint\";\nconst useRandomWord = (lang, cate) => {\n  _s();\n  const {\n    mainLang\n  } = useLanguage(lang);\n  const findCate = mainLang.sortedCate.find(item => item.link == `/${lang}/${cate}`);\n  const words = findCate === null || findCate === void 0 ? void 0 : findCate.words;\n  const category = findCate === null || findCate === void 0 ? void 0 : findCate.category;\n  const randomWord = words === null || words === void 0 ? void 0 : words[Math.floor(Math.random() * words.length)];\n  const {\n    countPoint\n  } = usePoint();\n  const [word, setWord] = useState(randomWord);\n  const [skipWord, setSkipWord] = useState({\n    anim: '',\n    correction: ''\n  });\n  const changeWord = correction => {\n    const [...guessWord] = words;\n    const nextWord = words && guessWord[Math.floor(Math.random() * words.length)];\n    setSkipWord(prev => ({\n      ...prev,\n      anim: 'out'\n    }));\n    if (correction === 'wrong') {\n      setSkipWord(prev => ({\n        ...prev,\n        correction: 'wrong'\n      }));\n    } else if (correction === 'correct') {\n      setSkipWord(prev => ({\n        ...prev,\n        correction: 'correct'\n      }));\n      countPoint();\n    } else {\n      setSkipWord(prev => ({\n        ...prev,\n        correction: ''\n      }));\n    }\n    setTimeout(() => {\n      setWord(nextWord);\n      setSkipWord({\n        correction: '',\n        anim: 'in'\n      });\n    }, 600);\n    setTimeout(() => [setSkipWord({\n      correction: '',\n      anim: ''\n    })], 1200);\n  };\n  return {\n    word,\n    changeWord,\n    skipWord,\n    category\n  };\n};\n_s(useRandomWord, \"Xw0D+5flfsP4NAD6x2ElLkzLH+U=\", false, function () {\n  return [useLanguage, usePoint];\n});\nexport default useRandomWord;","map":{"version":3,"names":["useState","useLanguage","usePoint","useRandomWord","lang","cate","_s","mainLang","findCate","sortedCate","find","item","link","words","category","randomWord","Math","floor","random","length","countPoint","word","setWord","skipWord","setSkipWord","anim","correction","changeWord","guessWord","nextWord","prev","setTimeout"],"sources":["/Users/mark/Documents/GitHub/lets-guess/src/hooks/useRandomWord.ts"],"sourcesContent":["import { useState } from \"react\"\nimport useLanguage from \"./useLanguage\"\nimport { LangType, SkipWord } from \"../types/main-page\"\nimport usePoint from \"./usePoint\"\n\nconst useRandomWord = (lang: LangType, cate: LangType) => {\n\n  const { mainLang } = useLanguage(lang)\n\n  const findCate = mainLang.sortedCate.find(item => item.link == `/${lang}/${cate}`)\n  const words = findCate?.words\n  const category = findCate?.category\n  const randomWord = words?.[Math.floor(Math.random() * words.length)]\n\n  const { countPoint } = usePoint()\n  const [word, setWord] = useState(randomWord)\n  const [skipWord, setSkipWord] = useState<SkipWord>({\n    anim: '',\n    correction: ''\n  })\n\n  const changeWord = (correction: string) => {\n    const [...guessWord]: any = words\n    const nextWord = words && guessWord[Math.floor(Math.random() * words.length)]\n\n    setSkipWord(prev => ({...prev, anim: 'out'}))\n\n    if (correction === 'wrong'){ \n      setSkipWord(prev => ({...prev, correction: 'wrong'}))\n    } else if (correction === 'correct'){\n      setSkipWord(prev => ({...prev, correction: 'correct'}))\n      countPoint()\n    } else {\n      setSkipWord(prev => ({...prev, correction: ''}))\n    }\n\n    setTimeout(() => {\n      setWord(nextWord)\n      setSkipWord({correction:'', anim: 'in'})\n    }, 600)\n\n    setTimeout(() => [\n      setSkipWord({correction:'', anim: ''})\n    ], 1200)\n  }\n\n  return { word, changeWord, skipWord, category }\n}\n\nexport default useRandomWord"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,WAAW,MAAM,eAAe;AAEvC,OAAOC,QAAQ,MAAM,YAAY;AAEjC,MAAMC,aAAa,GAAGA,CAACC,IAAc,EAAEC,IAAc,KAAK;EAAAC,EAAA;EAExD,MAAM;IAAEC;EAAS,CAAC,GAAGN,WAAW,CAACG,IAAI,CAAC;EAEtC,MAAMI,QAAQ,GAAGD,QAAQ,CAACE,UAAU,CAACC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,IAAK,IAAGR,IAAK,IAAGC,IAAK,EAAC,CAAC;EAClF,MAAMQ,KAAK,GAAGL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,KAAK;EAC7B,MAAMC,QAAQ,GAAGN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEM,QAAQ;EACnC,MAAMC,UAAU,GAAGF,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAGG,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGL,KAAK,CAACM,MAAM,CAAC,CAAC;EAEpE,MAAM;IAAEC;EAAW,CAAC,GAAGlB,QAAQ,CAAC,CAAC;EACjC,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGtB,QAAQ,CAACe,UAAU,CAAC;EAC5C,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAW;IACjDyB,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE;EACd,CAAC,CAAC;EAEF,MAAMC,UAAU,GAAID,UAAkB,IAAK;IACzC,MAAM,CAAC,GAAGE,SAAS,CAAM,GAAGf,KAAK;IACjC,MAAMgB,QAAQ,GAAGhB,KAAK,IAAIe,SAAS,CAACZ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGL,KAAK,CAACM,MAAM,CAAC,CAAC;IAE7EK,WAAW,CAACM,IAAI,KAAK;MAAC,GAAGA,IAAI;MAAEL,IAAI,EAAE;IAAK,CAAC,CAAC,CAAC;IAE7C,IAAIC,UAAU,KAAK,OAAO,EAAC;MACzBF,WAAW,CAACM,IAAI,KAAK;QAAC,GAAGA,IAAI;QAAEJ,UAAU,EAAE;MAAO,CAAC,CAAC,CAAC;IACvD,CAAC,MAAM,IAAIA,UAAU,KAAK,SAAS,EAAC;MAClCF,WAAW,CAACM,IAAI,KAAK;QAAC,GAAGA,IAAI;QAAEJ,UAAU,EAAE;MAAS,CAAC,CAAC,CAAC;MACvDN,UAAU,CAAC,CAAC;IACd,CAAC,MAAM;MACLI,WAAW,CAACM,IAAI,KAAK;QAAC,GAAGA,IAAI;QAAEJ,UAAU,EAAE;MAAE,CAAC,CAAC,CAAC;IAClD;IAEAK,UAAU,CAAC,MAAM;MACfT,OAAO,CAACO,QAAQ,CAAC;MACjBL,WAAW,CAAC;QAACE,UAAU,EAAC,EAAE;QAAED,IAAI,EAAE;MAAI,CAAC,CAAC;IAC1C,CAAC,EAAE,GAAG,CAAC;IAEPM,UAAU,CAAC,MAAM,CACfP,WAAW,CAAC;MAACE,UAAU,EAAC,EAAE;MAAED,IAAI,EAAE;IAAE,CAAC,CAAC,CACvC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,OAAO;IAAEJ,IAAI;IAAEM,UAAU;IAAEJ,QAAQ;IAAET;EAAS,CAAC;AACjD,CAAC;AAAAR,EAAA,CA1CKH,aAAa;EAAA,QAEIF,WAAW,EAOTC,QAAQ;AAAA;AAmCjC,eAAeC,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}